

inspect=>@"creates unit tests for testing if 
session events functions"


event=>magix.test.session-set-retrieve-delete

  inspect=>@"creates the unit test
necessary to test if session retrieve and set works correctly"

  code
    magix.web.set-session=>magix.test.test-session
      value=>howdy
        child1=>howdy2
    magix.web.get-session=>magix.test.test-session
    if=>not-exist
      lhs=>[magix.web.get-session][value]
      code
        throw=>couldn't find session object
    if=>not-equals
      lhs=>[magix.web.get-session][value].Value
      rhs=>howdy
      code
        throw=>couldn't find correct value for session object
    if=>not-equals
      lhs=>[magix.web.get-session][value][child1].Value
      rhs=>howdy2
      code
        throw=>couldn't find correct value for session child node object
    magix.web.set-session=>magix.test.test-session
    magix.web.get-session=>magix.test.test-session
    if=>not-exist
      lhs=>[magix.web.get-session:1][value]
      code
        throw=>couldn't delete session object

